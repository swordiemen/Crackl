import Sprockell.Sprockell
import Sprockell.System
import Sprockell.TypesEtc

prog :: [Instruction]
prog = [ 
	Jump (Abs 28),
	Push Zero,
	Push Zero,
	Const 1 RegE,
	Const 1 RegD,
	Compute Add SP RegD RegD,
	Store RegE (Deref (RegD)),
	Const 3 RegE,
	Const 0 RegD,
	Compute Add SP RegD RegD,
	Store RegE (Deref (RegD)),
	Const 2 RegD,
	Compute Add SP RegD RegD,
	Load (Deref (RegD)) RegE,
	Const 48 RegD,
	Compute Add RegE RegD RegE,
	Write RegE (Addr 16777216),
	Const 12 RegE,
	Write RegE (Addr 16777216),
	Const 2 RegE,
	Compute Sub SP RegE SP,
	Pop Zero,
	Pop RegE,
	Const 2 RegC,
	Compute Add SP RegC RegC,
	Load (Deref (RegC)) RegD,
	Push RegD,
	Jump (Ind RegE),
	Const 33 RegE,
	Push RegE,
	Const 5 RegD,
	Push RegD,
	Jump (Abs 1),
	Pop RegE,
	Const 3 RegE,
	Const 48 RegD,
	Compute Add RegE RegD RegE,
	Write RegE (Addr 16777216),
	Const 12 RegE,
	Write RegE (Addr 16777216),
	EndProg,
	Const 0 RegE,
	Compute Sub SP RegE SP,
	Nop,
	Nop,
	Nop,
	Nop,
	Nop,
	EndProg	]
main = run 1 prog